<!DOCTYPE html>
<html>
  <head>
    <script src="html5-chatclient/scripts/jquery-1.4.4.min.js"></script>
    <script src="html5-chatclient/scripts/jquery-ui.min.js"></script>
    <script src="script/smoothie.js" type="text/javascript"></script>
    <script src="script/dragdrop.js"></script>
    <script src="script/slide.js" type="text/javascript"></script>
    <meta charset="utf-8">

    <title>HTML5 - The good parts!</title>
      <link href="style/slide.css" rel="stylesheet" type="text/css">
      <link href="style/custom.css" rel="stylesheet" type="text/css">
    </head>
    <body>
      <section>
        <h1>HTML5 - The good parts!</h1>
        <p>Kristoffer, Kris-Mikael og Ivar</p>
      </section>

<!--

Kristoffer-slides

-->

        <section>
            <h2>HTML5</h2>
	    <pre>
&#8249;!DOCTYPE html&#8250;
&#8249;html&#8250;
  &#8249;head&#8250;
    &#8249;meta charset="utf-8"&#8250;
  &#8249;/head&#8250;
  &#8249;p&#8250;Inhhold her&#8249;/p&#8250;
&#8249;/html&#8250;
</pre>
        </section>
		<section>
			<h1>Hva ER egentlig HTML5?</h1>
            <ul>
                <li>Samlebegrep for markup og Javascript APIer</li>
                <li>Bedre støtte for multimedia</li>
                <li>Standariserer Web 2.0 & RIA</li>
                <li>Mer "bling"!</li>
            </ul>
		</section>
        <section>
			<h1>HTML5 er ikke en erstatning for</h1>
            <br />
            <h1>
                <img src="images/flash_logo.jpg" height="200" />
                &nbsp;&nbsp;eller&nbsp;&nbsp;
                <img src="images/silverlight_detail.jpg" height="200" />
            </h1>
        </section>
		<section>
			<h1>Hvorfor bry seg om HTML5?</h1>
            <ul>
                <li>Færre standarder -> færre bugs, sikrere</li>
                <li>Kjappere</li>
            </ul>
		</section>
		<section>
			<h1>Hva betyr HTML5 for oss utviklere?</h1>
		</section>
      <section>
        <h2>Renere markup</h2>
      </section>
        <section>
            <h1>HTML4</h1>
            <img src="images/semantic_html4.jpg" width="500px" />
        </section>
        <section>
            <h1>HTML5</h1>
            <img src="images/html-semantics-2.png" width="500px" />
        </section>
        <section>
            <h3>HTML4 spesifiserer HVA</h3>
            <h3>HTML5 spesifiserer HVA og HVORDAN</h3>
        </section>
        <section>
			<h1>Hva betyr HTML5 for oss utviklere?</h1>
            <ul>
                <li>Mindre hacks</li>
                <li>Færre standarder å forholde seg til</li>
                <li>Økt produktivitet</li>
                <li>Noen nye muligheter</li>
                <li>Nye, bedre måter å gjøre ting på!</li>
            </ul>
        </section>
		<section>
			<h1>Web Forms 2.0</h1>
        </section>
		<section>
            <h1>Nye attributer</h1>
            <p>
                placeholder<br />
                autofocus<br />
                autocomplete<br />
                list<br />
                min<br />
                max<br />
                step
            </p>
        </section>
		<section>
            <h1>Nye skjemaelementer</h1>
            <p>
                search, email, url, tel<br />
                number, range, output <br />
                datetime, date, month, week, time, datetime-local
            </p>
		</section>
		<section>
            <input type="text" placeholder="Skriv inn tekst!" /><br />
			<input type="date" value="2010-11-26" /><br />
			<input type="time" value="18:00" /><br />
			<input type="number" min="0" value="4" /><br />
			<input type="range" min="10" max="20"/><br />
            <img src="images/input-type-date.png" />
		</section>
		<section>
			<h1>Validering</h1>
		</section>
		<section>
            <h2>required</h2>
            <h2>maxlength</h2>
            <h2>pattern</h2>
            <h2>min</h2>
            <h2>max</h2>
		</section>
		<section>
            <h2>email.willValidate</h2>
            <h2>email.validity.valid</h2>
		</section>
		<section>
            <h2>
                email.onchange + <br />
                name.onchange + <br />
                age.onchange = </h2>
                <br />
            <h1>form.oninputchange</h1>
		</section>
		<section>
			<h1>Multimedia</h1>
		</section>
        <section data-onload="playAudio" data-onunload="pauseAudio">
            <script type="text/javascript">
                function playAudio(section) {
                    section.querySelector("audio").play();
                }
                function pauseAudio(section) {
                    section.querySelector("audio").pause();
                }
            </script>
	        <h1>Lyd</h1>
            <audio controls autobuffer preload src="media/01-snook_-_snook_svett_och_tarar.mp3"></audio>
        </section>
        <section data-onload="playVideo"
                data-onunload="stopVideo">
            <script type="text/javascript">
                function playVideo(section) {
                    section.querySelector("video").play();
                }
                function stopVideo(section) {
                    section.querySelector("video").pause();
                }
            </script>
            <h1>Video</h1>
            <video controls autobuffer loop preload src="videos/fight.ogv"></video>
        </section>
		<section data-onload="startChart">
			<h1>Canvas</h1>
            <canvas id="mycanvas" width="600" height="250"></canvas>
            <script>

                // Random data
                var line1 = new TimeSeries();
                var line2 = new TimeSeries();
                setInterval(function () {
                    line1.append(new Date().getTime(), Math.random());
                    line2.append(new Date().getTime(), Math.random());
                }, 1000);

                var smoothie = new SmoothieChart({ grid: { strokeStyle: 'rgb(125, 0, 0)', fillStyle: 'rgb(60, 0, 0)', lineWidth: 1, millisPerLine: 250, verticalSections: 6} });
                smoothie.addTimeSeries(line1, { strokeStyle: 'rgb(0, 255, 0)', fillStyle: 'rgba(0, 255, 0, 0.4)', lineWidth: 3 });
                smoothie.addTimeSeries(line2, { strokeStyle: 'rgb(255, 0, 255)', fillStyle: 'rgba(255, 0, 255, 0.3)', lineWidth: 3 });


                function startChart() {
                    smoothie.streamTo(document.getElementById("mycanvas"), 1000);
                }
            </script>
            <p>
                <a href="http://www.chromeexperiments.com/detail/rumpetroll/">Rumpetroll</a> |
                <a href="http://www.chromeexperiments.com/detail/biolab-disaster/">Biolab disaster</a> |
                <a href="http://www.chromeexperiments.com/detail/the-wilderness-downtown/">The Wilderness Downtown</a>
            </p>
		</section>
		<section>
			<h1>Hva kan man ta i bruk allerede nå?</h1>
		</section>

<!--

KM-slide

-->

   <section>
      <h1 id="lala">Multifile og Drag &amp; drop</h1>
		<ul>
			<li>Erstatter multipart-forms med X-antall singlefiler</li>
			<li>Ikke nødvendig med plugins. Bye bye flash+silverlight :D</li>
			<li>Benytter eventlisteners man kan utnytte gjennom javascript</li>
		</ul>
      <form>
			<div class="dropBox">
         	<p>Multifile &raquo;</p>
				<input id="files-upload" name="file-upload" type="file" multiple>
				<p>&laquo; Fler om gangen!</p>
			</div>


			<div class="dropBox">
				<p class="left">Dra filer hit &raquo;</p>
         	<p id="drop-area"></p>
				<p id="fileApi" class="right">&laquo; File API, sweeet!</p>
			</div>
         <ul id="file-list">
         	<li class="no-items">(no filez, please upload)</li>
        	</ul>
      </form>

   </section>

<!--

Ivar-slide

-->

       <section>
        <h1>Web Workers (1/2)</h1>
        <ul>
	  <li>"Tråder" i JavaScript</li>
	  <li>Begrenset hva en worker kan gjøre</li>
	</ul>
      </section>
      <section>
        <h1>Web Workers (2/2)</h1>	
<pre>
var worker = new Worker('task.js');
worker.onmessage = function(event) { alert(event.data); };
worker.postMessage('data');
</pre>
task.js:
<pre>
self.onmessage = function(event) {
  // Do some work.
  self.postMessage("recv'd: " + event.data);
};
</pre>
      </section>

<!--

KM-slide

-->

      <section>
        <h1>Websockets (1/2)</h1>
			<ul>
				<li>comet, men ...</li>
				<li>!(forever frame, long polling)
				<li>ws: (og wss:) woho!</li>
			</ul>
      </section>

      <section>
        <h1>Websockets (2/2) - Hookbox</h1>
			<ul>
				<li>channels, history, presence</li>
				<li>web sockets, med fallback</li>
			</ul>
      </section>

<!--

Ivar-slides

-->
      <section>
        <h1>Web Storage (1/4)</h1>
	<ul>
		<li>localStorage</li>
		<li>sessionStorage</li>
	</ul>
      </section>

      <section>
        <h1>Web Storage (2/4)</h1>
        <pre>
localStorage.setItem('value', area.value);
localStorage.getItem('value');
localStorage.removeItem('value');
localStorage.clear();</pre>
      </section>
      <section>
        <h1>Web Storage (3/4)</h1>
        <pre>
for (var i=0, il=localStorage.length; i&#8249;il; i++) {
  console.log("%s = %s", 
    localStorage.key(i),  
    localStorage.getItem(localStorage.key(i)));
}
</pre>
      </section>

      <section>
        <h1>Web Storage (4/4)</h1>
	<br />
	<textarea id="text-area" placeholder="Type your text here..." style="width: 305px;font-size: 26px;"></textarea> <br />
	<button onclick="clear_click();" style="width: 152px;font-size: 20px;">Clear</button>  		
	<button id="save-ta" onclick="save_click();" style="width: 152px;font-size: 20px;">Save</button>	
	<script> 
	  
	  // place content from previous edit
	  var area = document.querySelector('#text-area');
	  if (!area.value) {
	    area.innerHTML = window.localStorage.getItem('value');
	  }	  	  
	  // your content will be saved locally
	  function save_click() {
	    var area = document.querySelector('#text-area');
	    window.localStorage.setItem('value', area.value);
  	    for (var i=0, il=localStorage.length; i<il; i++) {
	      console.log("%s = %s", localStorage.key(i), localStorage.getItem(localStorage.key(i)));
	    }
	  }	  
	  function clear_click() {
	    var area = document.querySelector('#text-area');	    
	    area.value = "";	    
	    window.localStorage.clear();	    
	  }	    
	</script> 
      </section>

      <section>
        <h1>Web SQL Databases</h1>
	<ul>
	<li>Asynkron interaksjon</li>
	<li>SQL-kall køes og kjøres i rekkefølge</li>
	<li>default size =  5Mb / domain</li>
	<li>Safari, Chrome, and Opera</li>
	</ul>        
      </section>

      <section>
        <h1>Web SQL - open</h1>
        <pre>
var dbSize = 5 * 1024 * 1024; // 5MB
webdb.db = openDatabase(
  'chat', '1.0', 'FancyChat database', dbSize);
</pre>
      </section>
      <section>
        <h1>Web SQL - table</h1>
        <pre>
webdb.db.transaction(function(tx) {
  tx.executeSql(
    'CREATE TABLE IF NOT EXISTS posts(
      ID INTEGER PRIMARY KEY ASC, nick
      TEXT, content TEXT, added_on DATETIME, 
      owner BOOLEAN)');
});
</pre>
      </section>
      <section>
        <h1>Web SQL - query</h1>
        <pre>
webdb.db.transaction(function(tx) {
  tx.executeSql(
    'SELECT * FROM posts WHERE ID=?', 
    [id], 
    webdb.onSuccess, 
    webdb.onError
  );
});
</pre>
      </section>
      <section>
        <h1>IndexDB</h1>
	<ul>
	<li>Aktiv utvikling av Mozilla</li>
	<li>Ikke SQL-basert</li>
	<li>JavaScript-objektlager med indekser</li>
	<li>Asynkron interaksjon</li>
	<li><a href="http://www.w3.org/TR/IndexedDB/">http://www.w3.org/TR/IndexedDB/</a></li>
	</ul>        
      </section>


      <section>
        <img src="images/html5-elvis.jpg" />
        <br />
        <p>the end :)</p>
      </section>

  </body>
</html>
